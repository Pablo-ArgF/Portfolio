---
import { ClientRouter } from "astro:transitions";
const {
  title = "Pablo Argallero Fernández - Software Engineer",
  description = 'Software Engineer passionate about continuous learning and constant improvement. Graduate from University of Oviedo with 13 "with honors" distinctions.',
} = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />

    <link rel="icon" type="image/png" href="/favicon.png" />

    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://pabloaf.com" />
    <meta property="og:image" content="" />

    <link rel="stylesheet" href="/css/tailwind-build.css" />
    <link rel="stylesheet" href="/css/index.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css"
      integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <ClientRouter />
  </head>
  <body class="tw-flex tw-min-h-[100vh] tw-flex-col tw-bg-black tw-text-white">
    <slot />
    <footer
      class="tw-mt-auto tw-py-10 tw-border-t tw-border-white/10 tw-bg-black tw-text-center tw-z-10"
    >
      <p class="tw-text-neutral-500 tw-text-sm">
        &copy; {new Date().getFullYear()} Pablo Argallero Fernández. All rights reserved.
      </p>
    </footer>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.0/gsap.min.js"
      integrity="sha512-B1lby8cGcAUU3GR+Fd809/ZxgHbfwJMp0jLTVfHiArTuUt++VqSlJpaJvhNtRf3NERaxDNmmxkdx2o+aHd4bvw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      defer></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.0/ScrollTrigger.min.js"
      integrity="sha512-AY2+JxnBETJ0wcXnLPCcZJIJx0eimyhz3OJ55k2Jx4RtYC+XdIi2VtJQ+tP3BaTst4otlGG1TtPJ9fKrAUnRdQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
      defer></script>
    <script src="/index.js" defer></script>
    <!-- Privacy-friendly analytics by Plausible -->
    <script
      async
      src="https://plausible.pabloaf.com/js/pa-CP1c9-_PY75dZxcK6znx7.js"
    ></script>
    <script is:inline>
      window.plausible =
        window.plausible ||
        function () {
          (window.plausible.q = window.plausible.q || []).push(arguments);
        };
      window.plausible.init =
        window.plausible.init ||
        function (i) {
          window.plausible.o = i || {};
        };
      window.plausible.init();
    </script>
    <script>
      document.addEventListener("click", (event) => {
        const target = event.target.closest("[data-track-event]");
        if (target) {
          const eventName = target.getAttribute("data-track-event");
          const propsAttr = target.getAttribute("data-track-props");
          const props = propsAttr ? JSON.parse(propsAttr) : {};

          if (window.plausible) {
            window.plausible(eventName, { props });
          }
        }
      });
    </script>
  </body>
</html>
