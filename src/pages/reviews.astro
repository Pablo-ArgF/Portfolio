---
import type { InferEntrySchema } from "astro:content";
import { getCollection } from "astro:content";
import { ReviewCardStatic } from "../components/ReviewCardStatic";
import Aurora from "../components/Aurora";

const reviews: { data: InferEntrySchema<"review">; body: string }[] = await getCollection("review");
---

<div class="tw-relative tw-w-full tw-min-h-screen tw-bg-neutral-950 tw-text-white">
  <!-- Fondo Aurora -->
  <div class="tw-inset-0 tw-z-0">
    <Aurora
      colorStops={["#3A29FF", "#FF94B4", "#FF3232"]}
      blend={0.9}
      amplitude={1.3}
      speed={0.4}
      client:load
    />
  </div>

  <!-- Botón volver -->
  <a
    href="/#reviews"
    class="tw-absolute tw-top-6 tw-left-6 tw-z-30 tw-flex tw-items-center tw-gap-2
           tw-bg-[#ffffff]/10 hover:tw-bg-[#ffffff]/20 tw-text-white tw-font-semibold
           tw-rounded-full tw-px-4 tw-py-2 tw-transition-all tw-shadow-md"
  >
    <svg xmlns="http://www.w3.org/2000/svg" class="tw-h-4 tw-w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
    </svg>
    Back
  </a>

  <!-- Sección de reviews -->
  <section class="tw-relative tw-z-10 tw-flex tw-flex-col tw-items-center tw-py-20 tw-px-6">
    <h1 class="tw-text-5xl tw-font-extrabold tw-text-white tw-mb-12 tw-text-center">
      All the reviews
    </h1>

    <!-- CONTENEDOR FLEX + WRAP (igual que All Projects) -->
    <div
      class="
        tw-relative tw-z-20 tw-flex tw-flex-wrap tw-gap-10 tw-justify-center tw-items-start
        tw-w-full tw-px-6 sm:tw-px-10 md:tw-px-16 lg:tw-px-24 tw-pt-16 tw-overflow-hidden tw-pb-20
      "
    >
      {reviews.map((review) => (
        <ReviewCardStatic review={review} client:load />
      ))}
    </div>
  </section>
</div>
