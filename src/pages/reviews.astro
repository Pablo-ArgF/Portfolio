---
import type { InferEntrySchema } from "astro:content";
import { getCollection } from "astro:content";
import { ReviewCardStatic } from "../components/ReviewCardStatic";
import Aurora from "../components/Aurora";
import Layout from "../layouts/Layout.astro";

const reviews: { data: InferEntrySchema<"review">; body: string }[] =
  await getCollection("review");
---

<Layout title="All Reviews">
  <div
    class="tw-relative tw-w-full tw-min-h-screen tw-bg-neutral-950 tw-text-white"
  >
    <!-- Fondo Aurora -->
    <div class="tw-inset-0 tw-z-0">
      <Aurora
        colorStops={["#3A29FF", "#FF94B4", "#FF3232"]}
        blend={0.9}
        amplitude={1.3}
        speed={0.4}
        client:load
      />
    </div>

    <!-- Botón volver -->
    <a
      href="/#reviews"
      class="tw-absolute tw-top-4 tw-left-4 tw-z-30 tw-flex tw-items-center tw-gap-2
        tw-bg-white/10 hover:tw-bg-white/20 tw-text-white tw-font-semibold tw-rounded-full
        tw-transition-all tw-shadow-md
        tw-px-4 tw-py-2 tw-text-sm md:tw-text-base"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="tw-flex-shrink-0 tw-h-5 tw-w-5"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"
        ></path>
      </svg>
      Back
    </a>

    <!-- Sección de reviews -->
    <section
      class="tw-relative tw-z-10 tw-flex tw-flex-col tw-items-center tw-pt-24 tw-px-6"
    >
      <h1
        class="tw-font-extrabold tw-text-center tw-mb-12
        [font-size:clamp(2rem,5vw,3rem)]"
      >
        All the reviews
      </h1>

      <!-- Grid responsive -->
      <div
        class="tw-grid tw-gap-10 tw-w-full tw-max-w-7xl tw-mx-auto
          tw-px-[clamp(1rem,3vw,5rem)]
          tw-pt-10 tw-pb-20
          tw-grid-cols-1
          sm:tw-grid-cols-1
          md:tw-grid-cols-1
          lg:tw-grid-cols-3"
      >
        {
          reviews.map((review) => (
            <ReviewCardStatic review={review} client:only />
          ))
        }
      </div>
    </section>
  </div>
</Layout>
